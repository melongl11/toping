<div id="tooltabs" class="tabs_horizontal button_color" data-bind="tabs: { active: $root.selectedTool }">
  <div style="position: absolute; z-index: 300">
      <img style="vertical-align:middle; margin-left:20px; margin-top:20px;" src="/img/footer-Agency/footer-logo_sm.png" alt="logo" class="img-fluid">
  </div>
  <ul style="padding-top: 114px; top: -57px;">
    <li data-bind="tooltips: {}"><a title="Blocks ready to be added to the template" data-local="true" href="#toolblocks" data-bind="attr: { title: $root.t('Blocks ready to be added to the template') }"><i class="fa fa-fw fa-cubes"></i> <span style="margin-left:-2px;" data-bind="html: $root.t('Blocks')">Blocks</span></a></li>
    <li data-bind="tooltips: {}"><a title="Edit content options" href="#toolcontents" data-local="true" data-bind="attr: { title: $root.t('Edit content options') }"> <span style="margin-left:55px;" data-bind="html: $root.t('Content')">Content</span></a></li>
    <li data-bind="tooltips: {}"><a title="Edit style options" href="#toolstyles" data-local="true" data-bind="attr: { title: $root.t('Edit style options') }"> <span style="margin-left:55px;" data-bind="html: $root.t('Style')">Style</span></a></li>
    <li><a><input id="showGallery" type="checkbox" data-bind="checked: $root.showGallery, button: { refreshOn: $root.showGallery, icons: { primary: '', secondary: null }, text: true, label: $root.t('Gallery') }"><label title="Show image gallery" style="width:100%; text-align:left; padding-left:54px;"  for="showGallery" data-bind="attr: { title: $root.t('Show image gallery') }">show gallery</label></input></a></li>
  </ul>
  <ul class="ui-tabs-nav" style="top: 225px; height: 260px;">
    <li style="height: 40px;">
    <!-- ko if: typeof $root.save !== 'undefined' -->
    <a title="Save template" href="javascript:void(0)" data-bind="attr: { title: $root.t('Save template') }, click: $root.save.execute, clickBubble: false, button: { disabled: !$root.save.enabled(), icons: { primary: 'fa fa-fw fa-cloud-upload' }, label: $root.t($root.save.name), text: true }">SALVA</a>
    <!-- /ko -->
    </li>
    <li style="height: 40px;"><a><input id="previewFrameToggle" type="checkbox" data-bind="checked: $root.showPreviewFrame, button: { refreshOn: $root.showPreviewFrame, icons: { primary: 'fa fa-fw fa-tablet', secondary: null }, text: true, label: $root.t('Preview') }"><label title="Show live preview" style="text-align:left;" for="previewFrameToggle" data-bind="attr: { title: $root.t('Show live preview') }">PREVIEW</label></input></a></li>
    <li style="height: 40px;">
    <!-- ko if: typeof $root.test !== 'undefined' -->
    <a title="Show preview and send test" href="javascript:void(0)" data-bind="attr: { title: $root.t('Show preview and send test') }, click: $root.test.execute, clickBubble: false, button: { disabled: !$root.test.enabled(), icons: { primary: 'fa fa-fw fa-paper-plane' }, label: $root.t($root.test.name), text: true }">TEST</a>
    <!-- /ko -->
    </li>
    <li style="height: 40px;">
        <a title="Download template" href="javascript:void(0)" data-bind="attr: { title: $root.t('Download template') }, clickBubble: false, button: { disabled: !$root.download.enabled(), icons: { primary: 'fa fa-fw fa-download' }, label: $root.t($root.download.name), text: true }">DOWNLOAD</a>
    </li>
    <li style="height: 40px;">
    <!-- ko if: typeof $root.download !== 'undefined' -->
    <form id="downloadForm" action="#" method="POST">
    <input type="hidden" name="action" value="download" />
    <input type="hidden" name="filename" value="email.html" />
    <input type="hidden" name="html" id="downloadHtmlTextarea" />
    <a title="" style="padding-left:55px;" href="javascript:void(0)" data-bind="attr: { title: $root.t('') }, click: $root.download.execute, clickBubble: false, button: { disabled: !$root.download.enabled(), icons: { primary: '' },  label: $root.t('html'), text: true }">html</a>
    </form>
    <!-- /ko -->
    </li>
    <li style="height: 40px;">
    <!-- ko if: typeof $root.downloadPdf !== 'undefined' -->
    <form id="downloadPdfForm" action="#" method="POST">
    <input type="hidden" name="action" value="pdf" />
    <input type="hidden" name="filename" value="email.pdf" />
    <input type="hidden" name="html" id="downloadPdfTextarea" />
    <a title="" style="padding-left:55px;" href="javascript:void(0)" data-bind="attr: { title: $root.t('') }, click: $root.downloadPdf.execute, clickBubble: false, button: { disabled: !$root.downloadPdf.enabled(), icons: { primary: '' },  label: $root.t('pdf'), text: true }">pdf</a>
    </form>
    <!-- /ko -->
    </li>
  </ul>

  <ul class="ui-tabs-nav" style="top: 470px; height: 100%;">
  <hr style="width: 80%; color: #f1f1f1; text-align: center; margin-left: 20px; border: 0.5px solid;">
  <span data-bind="buttonset: { }" class="leftButtons" >
  <a title="Undo last operation" style="height:40px; text-align:left;" href="javascript:void(0)" data-bind="attr: { title: $root.t('Undo last operation') }, click: $root.undo.execute, clickBubble: false, button: { disabled: !$root.undo.enabled(), icons: { primary: 'fa fa-reply' }, label: $root.undo.name, text: true }">UNDO</a>
  </span>
  <span data-bind="buttonset: { }" class="leftButtons" >
  <a title="Redo last operation" style="height: 40px; text-align:left;" href="javascript:void(0)" data-bind="attr: { title: $root.t('Redo last operation') }, click: $root.redo.execute, clickBubble: false, button: { disabled: !$root.redo.enabled(), icons: { primary: 'fa fa-share' }, label: $root.redo.name, text: true }">REDO</a>
  </span>
  </ul>

  <div id="toolblocks" data-bind="scrollable: true" style="height: 100%">
    <div class="block-list" data-bind="foreach: blockDefs">
      <div class="draggable-item" data-bind="withProperties: { templateMode: 'show' }">
        <div class="block" data-bind="extdraggable: { connectClass: 'sortable-blocks-edit', data: $data, dropContainer: '#main-wysiwyg-area', dragging: $root.dragging, 'options': { handle: '.handle', distance: 10, 'appendTo': '#page' } }, click: $root.addBlock" style="position: relative;">
          <div title="Click or drag to add this block to the template" class="handle" data-bind="attr: { title: $root.t('Click or drag to add this block to the template') }, tooltips: {}"></div>
          <img data-bind="attr: { alt: $root.t('Block __name__', { name: ko.utils.unwrapObservable(type) }), src: $root.templatePath('edres/'+ko.utils.unwrapObservable(type)+'.png') }" alt="Block __name__" />
        </div>
        <a href="javascript:void(0)" class="addblockbutton" style="background-color: transparent; height: 95%; opacity:0.0;" data-bind="click: $root.addBlock, button: { label: $root.t('') }"></a>
      </div>
    </div>
  </div>

  <div id="toolcontents" data-bind="scrollable: true" style="height: 100%">
    <!-- ko if: $root.selectedBlock() !== null -->
    <div data-bind="block: $root.selectedBlock"></div>
    <!-- /ko -->
    <!-- ko if: $root.selectedBlock() == null -->
    <div class="noSelectedBlock" data-bind="text: $root.t('By clicking on message parts you will select a block and content options, if any, will show here')">By clicking on message parts you will select a block and content options, if any, will show here</div>
    <!-- /ko -->
    <!-- ko block: content --><!-- /ko -->
  </div>

  <div id="toolstyles" data-bind="scrollable: true, withProperties: { templateMode: 'styler' }" style="height: 100%">
    <!-- ko if: typeof $root.content().theme === 'undefined' || typeof $root.content().theme().scheme === 'undefined' || $root.content().theme().scheme() === 'custom' -->
      <!-- ko if: $root.selectedBlock() !== null -->
      <div data-bind="block: $root.selectedBlock, css: { workLocal: $root.selectedBlock().customStyle, workGlobal: typeof $root.selectedBlock().customStyle === 'undefined' || !$root.selectedBlock().customStyle() }"></div>
      <!-- /ko -->
      <!-- ko if: $root.selectedBlock() == null -->
      <div class="noSelectedBlock" data-bind="text: $root.t('By clicking on message parts you will select a block and style options, if available, will show here')">By clicking on message parts you will select a block and style options, if available, will show here</div>
      <!-- /ko -->
      <div class="workGlobalContent">
      <!-- ko block: content --><!-- /ko -->
      </div>
    <!-- /ko -->
  </div>
</div>

<!--background image-->

<div id="bgimagetool" class="slidebar" data-bind="scrollable: true, css: { hidden: $root.bgImageTool() === false }">
  <div class="close" data-bind="click: $root.closeBgTool">X</div>
  <span class="pane-title" data-bind="text: $root.t('Background Image:')">Background Image:</span>
   <!-- ko if: $root.bgImageHolder  -->
   <div data-drop-content="Drop here" class="img-dropzone pane uploadzone" data-bind="attr: { 'data-drop-content': $root.t('Drop here') }, fudroppable: { activeClass: 'ui-state-highlight', hoverClass: 'ui-state-draghover' }">
    <div class="mo-uploadzone" style="position: relative; padding: 2em; border: 2px dotted #808080">
     <input class="fileupload" type="file" name="files[]" data-bind="fileupload: { onerror: $root.notifier.error, onfile: $root.setbackgroundImage }" style="z-index: 10; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-zie: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block">
     <span data-bind="text: $root.t('Click or drag Image File here')">Click or drag Image File here</span>
     <div class="workzone" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;">
       <div class="progress" style="opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;">
         <div class="progress-bar progress-bar-success" style="height: 20px; background-color: black; "></div>
       </div>
     </div>
  </div>
  </div>
   <!-- /ko -->
</div>
<!--background image-->

<div id="toolimages" class="slidebar" data-bind="scrollable: true, css: { hidden: $root.showGallery() === false }" style="height: 100%;">
  <div class="close" data-bind="click: $root.showGallery.bind($element, false);">X</div>
  <span class="pane-title" data-bind="text: $root.t('Gallery:')">Gallery:</span>

  <div data-drop-content="Drop here" class="img-dropzone pane uploadzone" data-bind="attr: { 'data-drop-content': $root.t('Drop here') }, fudroppable: { activeClass: 'ui-state-highlight', hoverClass: 'ui-state-draghover' }">
  <div class="mo-uploadzone" style="position: relative; padding: 2em; border: 2px dotted #808080;">
     <input class="fileupload" type="file" multiple name="files[]" data-bind="fileupload: { onerror: $root.notifier.error, onfile: $root.loadImage }" style="z-index: 10; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-size: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block">
     <span><img src="../rs/img/upload_img.png" style="width: 50px; text-align: center;"></span>
     <div class="workzone" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;">
       <div class="progress" style="opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;">
         <div class="progress-bar progress-bar-success" style="height: 20px; background-color: black; "></div>
       </div>
     </div>
  </div>
  </div>


  <!-- ko if: $root.showGallery() -->
  <div id="toolimagestab" class="tabs_horizontal" data-bind="tabs: { active: $root.selectedImageTab }">
    <ul>
      <li data-bind="tooltips: {}"><a title="Session images" data-local="true" href="#toolimagesrecent" data-bind="attr: { title: $root.t('Session images') }, text: $root.t('Recents')">Recents</a></li>
      <li data-bind="tooltips: {}"><a title="Remote gallery" data-local="true" href="#toolimagesgallery" data-bind="attr: { title: $root.t('Remote gallery') }, text: $root.t('Gallery')">Gallery</a></li>
    </ul>

    <div id="toolimagesrecent">
      <!-- ko if: galleryRecent().length == 0 --><div class="galleryEmpty" data-bind="text: $root.t('No images uploaded, yet')">No images uploaded, yet</div><!-- /ko -->
      <!-- ko template: {name: 'gallery-images', data: { items: galleryRecent } } --># recent gallery #<!-- /ko -->
    </div>

    <div id="toolimagesgallery" style="text-align: center">
    <!-- ko if: $root.galleryLoaded() === false --><a class="loadbutton" title="Show images from the gallery" href="javascript:void(0)" data-bind="attr: { title: $root.t('Show images from the gallery') }, click: $root.loadGallery, button: { disabled: $root.galleryLoaded, icons: { primary: 'fa fa-fw fa-picture-o' }, label: $root.galleryLoaded() == 'loading' ? $root.t('Loading...') : $root.t('Load gallery'), text: true }"># load gally #</a><!-- /ko -->


    <!-- ko if: $root.galleryLoaded() === 'loading' --><div class="galleryEmpty" data-bind="text: $root.t('Loading gallery...')">Loading gallery...</div><!-- /ko -->
    <!-- ko if: $root.galleryLoaded() === 0 --><div class="galleryEmpty" data-bind="text: $root.t('The gallery is empty')">The gallery is empty</div><!-- /ko -->
    <!-- ko template: {name: 'gallery-images', data: { items: galleryRemote } } --># remote gallery #<!-- /ko -->
    </div>
  </div>
  <!-- /ko -->

</div>
